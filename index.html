
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Valentine ‚ù§Ô∏è</title>

<style>
*{box-sizing:border-box}

html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family:Segoe UI,sans-serif;
  background:#ff8fb3;
  color:white;
  text-align:center;
  overflow-x:hidden;   /* ‚úÖ hanya kunci horizontal */
  overflow-y:auto;     /* ‚úÖ vertical boleh */
}


.page{
  display:none;
  min-height:100vh;
  padding:15px;
}
.show{display:flex}

#login,#main{
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

input,button{
  width:100%;
  max-width:320px;
  padding:14px;
  margin:6px 0;
  border-radius:25px;
  border:none;
  font-size:16px;
}
button{background:#ff3366;color:white}

.container{
  width:100%;
  max-width:420px;
  margin:auto;
}

.letter{
  background:rgba(255,255,255,.2);
  padding:15px;
  margin:15px auto;
  border-radius:18px;
  max-width:360px;
}

#surat{
  display:none;
  background:linear-gradient(180deg,#fff0f6,#ffd6e7);
  color:#b3004b;
  height:70vh;
  overflow-y:auto;
  -webkit-overflow-scrolling: touch;
}

/* WAJIB DIPISAH */
#teksSurat{
  padding-bottom:60px;
}




.album{
  width:100%;
  border-radius:15px;
  display:none;
  margin-bottom:10px;
}

body.night{background:#1b001b}

.heart,.star,.candy{
  position:fixed;
  top:-20px;
  animation:fall linear infinite;
}

@keyframes fall{
  to{transform:translateY(110vh)}
}
#amplop{
  cursor:pointer;
  transition:transform .4s ease;
}
#amplop.open{
  transform:scale(0) rotateX(90deg);
}

.slider{
  overflow:hidden;
  position:relative;
}
.album{
  transition:opacity .5s ease;
}
.love-float, .flower-float {
  position: fixed;
  bottom: -20px;
  font-size: 22px;
  animation: floatUp linear forwards;
  pointer-events: none;
  z-index: 999;
}

@keyframes floatUp {
  to {
    transform: translateY(-120vh) rotate(360deg);
    opacity: 0;
  }
}

/* DENYUT CINTA */
.pulse {
  animation: pulse 1.5s infinite;
}
@keyframes pulse {
  0% {transform: scale(1);}
  50% {transform: scale(1.05);}
  100% {transform: scale(1);}
}
body.night{
  background:linear-gradient(180deg,#1b001b,#330033) !important;
}

body.night {
  background: radial-gradient(circle at top, #3a003a, #0d0010) !important;
  transition: background 1s ease;
}

body.night .letter {
  background: rgba(255,255,255,0.1);
  color: #ffd6f0;
}

body.night button {
  background: linear-gradient(45deg,#ff4da6,#ff1a75);
  box-shadow: 0 0 15px rgba(255,77,166,.6);
}
.flower-rise{
  position:fixed;
  bottom:-30px;
  font-size:26px;
  animation: rise 6s linear forwards;
  pointer-events:none;
  z-index:999;
}
@keyframes rise{
  to{
    transform:translateY(-120vh) rotate(360deg);
    opacity:0;
  }
}
#teksSurat{
  animation: glow 2s infinite alternate;
}
@keyframes glow{
  from{text-shadow:0 0 5px #ff4da6}
  to{text-shadow:0 0 15px #ff99cc}
}
.stars{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:radial-gradient(white 1px, transparent 1px);
  background-size:40px 40px;
  animation: moveStars 60s linear infinite;
  opacity:.25;
  pointer-events:none;
  z-index:-1;
}
@keyframes moveStars{
  from{background-position:0 0}
  to{background-position:1000px 1000px}
}
.album:last-child{
  animation: finalZoom 8s ease forwards;
}
@keyframes finalZoom{
  from{transform:scale(1);filter:blur(0)}
  to{transform:scale(1.15);filter:blur(2px)}
}
body{
  animation: heartbeat 2.5s infinite;
}
@keyframes heartbeat{
  0%,100%{filter:brightness(1)}
  50%{filter:brightness(1.05)}
}
.galaxy{
  position:fixed;
  top:50%;
  left:50%;
  width:120vmax;
  height:120vmax;
  background:
    radial-gradient(circle at center,
      rgba(255,255,255,.15),
      rgba(255,105,180,.12),
      rgba(90,0,120,.6));
  border-radius:50%;
  transform:translate(-50%,-50%);
  animation: spinGalaxy 120s linear infinite;
  z-index:-2;
  pointer-events:none;
}

@keyframes spinGalaxy{
  from{transform:translate(-50%,-50%) rotate(0deg)}
  to{transform:translate(-50%,-50%) rotate(360deg)}
}
.beat{
  animation: beatPulse 0.8s infinite;
}

@keyframes beatPulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.02)}
  100%{transform:scale(1)}
}
.galaxy{
  position:fixed;
  inset:-20vmax;
  background:
    radial-gradient(circle,
      rgba(255,105,180,.35),
      rgba(120,0,200,.55),
      rgba(10,0,40,.9));
  animation: spinGalaxy 120s linear infinite;
  z-index:-2;
  pointer-events:none;
  transition: filter .2s linear;
}
@keyframes spinGalaxy{
  to{transform:rotate(360deg)}
}
#surat{
  touch-action: pan-y;
}
@media(max-width:600px){
 .galaxy{display:none;}
 body{animation:none;}
 .stars{opacity:.15;}
}
.marryAlbum{
  width:100%;
  border-radius:15px;
  display:none;
  margin-bottom:15px;
  transition:opacity .5s ease;
}
.marryAlbum{
  width:100%;
  border-radius:20px;
  display:none;
  margin-bottom:15px;
  animation: cinematicZoom 8s ease-in-out forwards;
}

@keyframes cinematicZoom{
  from{transform:scale(1); filter:brightness(0.9);}
  to{transform:scale(1.15); filter:brightness(1.1);}
}
/* ===== LOVE PAGE STYLE ===== */
#lovePage{
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:linear-gradient(180deg,#2b0033,#ff4da6);
  position:relative;
  overflow:hidden;
}

.romantic-box{
  background:rgba(255,255,255,.15);
  padding:25px;
  border-radius:20px;
  font-size:20px;
  line-height:1.6;
  backdrop-filter:blur(10px);
  margin-bottom:20px;
  text-shadow:0 0 15px #ff99cc;
  animation:fadeRomantic 1s ease;
}

@keyframes fadeRomantic{
  from{opacity:0; transform:scale(.9)}
  to{opacity:1; transform:scale(1)}
}

/* HUJAN ROMANTIS */
.romantic-rain{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  overflow:hidden;
}

.love-drop{
  position:absolute;
  top:-20px;
  font-size:22px;
  animation:rainFall linear forwards;
}

@keyframes rainFall{
  to{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

</style>
</head>

<body>
<div class="stars"></div>
<div class="galaxy"></div>
<div class="galaxy"></div>


<audio id="musik" loop>
  <source src="sedia aku.mp3">
</audio>

<!-- LOGIN -->
<div id="login" class="page show">
  <h1>Untuk Sayangku üíñ</h1>
  <input id="pass" placeholder="Tulis namamu sayang">
  <button onclick="masuk()">Masuk ‚ù§Ô∏è</button>
</div>





<!-- MAIN -->
<div id="main" class="page">
  <div class="container">

    <h2>Happy Valentine <span id="nama"></span> ‚ù§Ô∏è</h2>

    <button onclick="popup()">I Love You üíï</button>
    <button onclick="toggleNight()">Night Mode üåô</button>
    <div id="counter" style="margin:10px;font-size:18px;"></div>
<button onclick="lamaran()">Marry Me üíç</button>
<button onclick="game()">Tangkap Hatiku üíò</button>
<div id="score"></div>
<button onclick="faceLogin()">Login dengan Wajah üíñ</button>
<div id="cameraBox" style="display:none;margin-top:10px;">
  <video id="camera" autoplay playsinline 
    style="width:100%;border-radius:15px;"></video>
  
  <button onclick="ambilFoto()">Ambil Foto üì∏</button>
  
  <canvas id="canvas" style="display:none;"></canvas>
  
  <img id="hasilFoto" 
    style="width:100%;border-radius:15px;margin-top:10px;display:none;">
</div>


<input id="kodeTanggal" placeholder="Tanggal jadian (DDMMYYYY)">

    <div id="amplop" class="letter">üì© Klik untuk buka surat Valentine</div>

    <div id="surat" class="letter">
      <div class="slider">
        <img src="foto1.jpeg" class="album">
        <img src="foto2.jpeg" class="album">
        <img src="foto3.jpeg" class="album">
        <img src="4.jpeg" class="album">
        <img src="5.jpeg" class="album">
        <img src="6.jpeg" class="album">
        <img src="7.jpeg" class="album">
        <img src="8.jpeg" class="album">
        <img src="9.jpeg" class="album">
        <img src="10.jpeg" class="album">
        <img src="11.jpeg" class="album">
        <img src="12.jpeg" class="album">
        <img src="13.jpeg" class="album">
        <img src="14.jpeg" class="album">
        <img src="15.jpeg" class="album">
        <img src="16.jpeg" class="album">
      </div>
      <div id="teksSurat"></div>
    </div>
<video id="loveVideo" muted playsinline controls style="width:100%;border-radius:15px;margin-top:10px">
  <source src="1.mp4" type="video/mp4">
  <source src="2.mp4" type="video/mp4">
  <source src="3.mp4" type="video/mp4">
  Browser kamu tidak mendukung video üò¢
</video>


  </div>
</div>
<!-- HALAMAN I LOVE YOU -->
<div id="lovePage" class="page">
  <div class="romantic-rain"></div>
  <audio id="loveMusic" loop>
  <source src="bersama.mp3" type="audio/mpeg">
</audio>

  <div class="container">
    <h1 style="font-size:30px;margin-bottom:20px;">Untuk Kamu üíï</h1>
    
    <div id="romanticText" class="romantic-box"></div>
    
    <button onclick="nextRomantic()">Kata Lagi üíñ</button>
    <button onclick="backToMain()">Kembali ‚ù§Ô∏è</button>
  </div>
</div>

<script>
  document.body.style.opacity=0;
window.onload = () => {

  // Fade in halaman
  document.body.style.transition="2s";
  document.body.style.opacity=1;

  // Load foto dari localStorage
  const savedFoto = localStorage.getItem("fotoCinta");
  if(savedFoto){
    hasilFoto.src = savedFoto;
    hasilFoto.style.display="block";
  }

};


const teks=`Hai cintaku...
Selamat Hari Valentine Sayang! ‚ù§Ô∏è
Kamu adalah cokelat manis dalam hidupku üç´
Dan bunga yang selalu mekar di hatiku üåπ
Aku ingin kita selalu tertawa bersama
dan saling genggam tangan selamanya.
Maaf Ya sayang kalau aku nggak bisa
ngasih apa apa.
Maaf aku bukan orang yang sempurna,
Maaf perlakuan ku dulu yang menyakiti ayang,
Love you sayangku DUMARIA FANNI MEKA‚ù§Ô∏è
Happy Valentine Sayangku üíï`;

let i=0;
let albumIndex=0;
const album=document.getElementsByClassName("album");

function masuk(){
  nama.innerHTML=pass.value;
  login.style.display="none";
  main.style.display="flex";
setTimeout(()=>{
 alert("Aku bersyukur Tuhan mempertemukan aku denganmu ‚ù§Ô∏è");
},4000);

  musik.volume=0;
  musik.play();

  let v=0;
  const fade=setInterval(()=>{
    if(v>=0.6) clearInterval(fade);
    musik.volume=v;
    v+=0.02;
  },100);
}


function bukaAmplop(){
  amplop.classList.add("open");

  setTimeout(()=>{
    amplop.style.display="none";
    surat.style.display="block";
  },400);
document.body.style.background="linear-gradient(180deg,#ff8fb3,#ffb6c1)";
voiceLove();
surat.style.display="block";
loveVideo.play().catch(()=>{});

  teksSurat.innerHTML="";
  i=0;
  ketik();
  albumSlider();

  musik.play();      // üéµ musik mulai pas klik
  setTimeout(()=>{
  alert("Terima kasih sudah hadir di hidupku ‚ù§Ô∏è");
},8000);
if (navigator.vibrate) {
  navigator.vibrate([200,100,200,100,300]);
}
setTimeout(()=>{
  document.body.style.background =
  "radial-gradient(circle,#ffb6c1,#ff4d6d)";
  alert("Maukah kamu jadi bahagiaku, hari ini dan selamanya? üíç‚ù§Ô∏è");
},12000);


}


function ketik(){
  if(i<teks.length){
    teksSurat.innerHTML+=teks.charAt(i);
    i++;
    setTimeout(ketik,40);
  }
}

function albumSlider(){
  for(let x of album)x.style.display="none";
  albumIndex=(albumIndex+1)%album.length;
  album[albumIndex].style.display="block";
  setTimeout(albumSlider,3000);
}
function popup(){
  main.style.display="none";
  lovePage.style.display="flex";

  // Pause lagu utama
  musik.pause();

  // Mainkan lagu khusus love page
  loveMusic.volume = 0;
  loveMusic.play();

  // Fade in biar romantis
  let v = 0;
  const fade = setInterval(()=>{
    if(v >= 0.6) clearInterval(fade);
    loveMusic.volume = v;
    v += 0.02;
  },100);

  nextRomantic();
}



function toggleNight(){
  document.body.classList.toggle("night");

  musik.pause();

  if(document.body.classList.contains("night")){
    musik.src = "rama.mp3"; // üåô LAGU MALAM
  }else{
    musik.src = "sedia aku.mp3";   // ‚òÄÔ∏è LAGU SIANG
  }

  musik.load();
  musik.play();
}


amplop.addEventListener("click",bukaAmplop);
let startX=0;

document.querySelector(".slider").addEventListener("touchstart",e=>{
  startX=e.touches[0].clientX;
});

document.querySelector(".slider").addEventListener("touchend",e=>{
  let endX=e.changedTouches[0].clientX;
  if(startX-endX>50) nextFoto();
  if(endX-startX>50) prevFoto();
});

function nextFoto(){
  for(let x of album)x.style.display="none";
  albumIndex=(albumIndex+1)%album.length;
  album[albumIndex].style.display="block";
}

function prevFoto(){
  for(let x of album)x.style.display="none";
  albumIndex=(albumIndex-1+album.length)%album.length;
  album[albumIndex].style.display="block";
}
// ‚ù§Ô∏è LOVE MELAYANG
setInterval(()=>{
  const love=document.createElement("div");
  love.className="love-float";
  love.innerHTML="‚ù§Ô∏è";
  love.style.left=Math.random()*100+"%";
  love.style.animationDuration=(Math.random()*3+4)+"s";
  document.body.appendChild(love);
  setTimeout(()=>love.remove(),6000);
},500);

// üå∏ BUNGA MELAYANG
setInterval(()=>{
  const flower=document.createElement("div");
  flower.className="flower-float";
  flower.innerHTML="üå∏";
  flower.style.left=Math.random()*100+"%";
  flower.style.animationDuration=(Math.random()*4+5)+"s";
  document.body.appendChild(flower);
  setTimeout(()=>flower.remove(),7000);
},800);
setInterval(()=>{
  if(!document.body.classList.contains("night")) return;

  const star=document.createElement("div");
  star.innerHTML="‚ú®";
  star.style.position="fixed";
  star.style.left=Math.random()*100+"%";
  star.style.top=Math.random()*100+"%";
  star.style.fontSize=(Math.random()*10+10)+"px";
  star.style.opacity=Math.random();
  star.style.pointerEvents="none";
  document.body.appendChild(star);

  setTimeout(()=>star.remove(),1500);
},300);
const kataCinta=[
  "Aku jatuh cinta setiap hari padamu üíï",
  "Kamu rumah paling nyaman üè°",
  "Namamu doa favoritku ü§ç",
  "Aku milikmu, hari ini dan selamanya üíç"
];
setInterval(()=>{
  const f=document.createElement("div");
  f.className="flower-rise";
  f.innerHTML=["üåπ","üå∑","üå∏","üíê"][Math.floor(Math.random()*4)];
  f.style.left=Math.random()*100+"%";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),6000);
},700);

document.addEventListener("click",e=>{
  const h=document.createElement("div");
  h.innerHTML="‚ù§Ô∏è";
  h.style.position="fixed";
  h.style.left=e.clientX+"px";
  h.style.top=e.clientY+"px";
  h.style.fontSize="24px";
  h.style.animation="floatUp 2s linear forwards";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),2000);
});
// üíì DETAK SESUAI MUSIK
musik.addEventListener("play",()=>{
  document.body.classList.add("beat");
});

musik.addEventListener("pause",()=>{
  document.body.classList.remove("beat");
});
const KODE_JADIAN = "21082024"; // GANTI dengan tanggal jadian asli

function bukaAmplop(){
  const kode = document.getElementById("kodeTanggal").value;
  if(kode !== KODE_JADIAN){
    alert("Tanggal jadian salah üò¢");
    return;
  }

  amplop.classList.add("open");
  setTimeout(()=>{
    amplop.style.display="none";
    surat.style.display="block";
  },400);

  teksSurat.innerHTML="";
  i=0; ketik(); albumSlider();
  musik.play();
}
const ctx = new (window.AudioContext||window.webkitAudioContext)();
const src = ctx.createMediaElementSource(musik);
const analyser = ctx.createAnalyser();
src.connect(analyser);
analyser.connect(ctx.destination);
analyser.fftSize = 256;

const data = new Uint8Array(analyser.frequencyBinCount);
const galaxy = document.querySelector(".galaxy");

function galaxyColor(){
  analyser.getByteFrequencyData(data);
  const avg = data.reduce((a,b)=>a+b,0)/data.length;
  galaxy.style.filter = `hue-rotate(${avg*2}deg) brightness(${1+avg/512})`;
  requestAnimationFrame(galaxyColor);
}

musik.addEventListener("play",()=>{
  ctx.resume();
  galaxyColor();
});
function hitungHari(){
  const start=new Date(2024,7,21); // bulan -1 (Agustus = 7)
  const now=new Date();
  const diff=Math.floor((now-start)/(1000*60*60*24));
  counter.innerHTML=`Kita sudah bersama <b>${diff}</b> hari üíû`;
}
setInterval(hitungHari,1000);
const airMata=[
"Aku sayang kamu...",
"Aku takut kehilangan kamu...",
"Kamu segalanya buat aku...",
"Terima kasih sudah bertahan bersamaku üò≠‚ù§Ô∏è"
];

let t=0;
setInterval(()=>{
 alert(airMata[t%airMata.length]);
 t++;
},35000);
let marryIndex=0;
const marryPhotos=document.getElementsByClassName("marryAlbum");

function lamaran(){

  // Hentikan lagu utama
  musik.pause();
  musik.currentTime = 0;

  // Mainkan lagu lamaran
  laguLamaran.volume = 0;
  laguLamaran.play();

  // Fade in lagu lamaran
  let v = 0;
  const fade = setInterval(()=>{
    if(v >= 0.6) clearInterval(fade);
    laguLamaran.volume = v;
    v += 0.02;
  },100);

  // Pindah halaman
  main.style.display="none";
  marryPage.style.display="flex";

  for(let x of marryPhotos) x.style.display="none";
  marryIndex=0;
  marryPhotos[marryIndex].style.display="block";

  marrySliderAuto();
  updateMarryWords();
  const bgFoto = localStorage.getItem("fotoCinta");
if(bgFoto){
  marryPage.style.background = `url(${bgFoto}) center/cover no-repeat`;
}


}


function marrySliderAuto(){
  for(let x of marryPhotos) x.style.display="none";
  marryIndex=(marryIndex+1)%marryPhotos.length;
  marryPhotos[marryIndex].style.display="block";
  setTimeout(marrySliderAuto,2500);
}

function kembali(){
  laguLamaran.pause();
  laguLamaran.currentTime = 0;

  musik.play();

  marryPage.style.display="none";
  main.style.display="flex";
}

setInterval(()=>{
 if(navigator.vibrate) navigator.vibrate(80);
},1500);
setInterval(()=>{
 const n=document.createElement("div");
 n.innerHTML=pass.value;
 n.style.position="fixed";
 n.style.left=Math.random()*100+"%";
 n.style.top="-20px";
 n.style.color="#ff69b4";
 n.style.animation="fall 6s linear";
 document.body.appendChild(n);
 setTimeout(()=>n.remove(),6000);
},3000);
setInterval(()=>{
 const f=document.createElement("div");
 f.innerHTML=["üéÜ","‚ú®","üí•"][Math.floor(Math.random()*3)];
 f.style.position="fixed";
 f.style.left=Math.random()*100+"%";
 f.style.top=Math.random()*50+"%";
 f.style.fontSize="30px";
 document.body.appendChild(f);
 setTimeout(()=>f.remove(),2000);
},2000);
function voiceLove(){
 const msg=new SpeechSynthesisUtterance(
 `Aku cinta kamu ${pass.value}. Terima kasih sudah hadir di hidupku`
 );
 msg.lang="id-ID";
 speechSynthesis.speak(msg);
}
let skor=0;
function game(){
 const h=document.createElement("div");
 h.innerHTML="üíñ";
 h.style.position="fixed";
 h.style.left=Math.random()*80+"%";
 h.style.top=Math.random()*80+"%";
 h.style.fontSize="40px";
 h.onclick=()=>{
  skor++;
  score.innerHTML="Hatimu tertangkap: "+skor;
  h.remove();
 };
 document.body.appendChild(h);
 setTimeout(()=>h.remove(),4000);
}
setInterval(()=>{
 const r=document.createElement("div");
 r.innerHTML="üì∏";
 r.style.position="fixed";
 r.style.left=Math.random()*100+"%";
 r.style.top="-20px";
 r.style.animation="fall 8s linear";
 document.body.appendChild(r);
 setTimeout(()=>r.remove(),8000);
},2500);
setTimeout(()=>{
 document.body.style.transition="2s";
 document.body.style.background="#000";
 alert("Kalau suatu hari aku pergi‚Ä¶ cintaku tetap tinggal disini ‚ù§Ô∏è");
},60000);
let stream;

function faceLogin(){
  cameraBox.style.display="block";

  navigator.mediaDevices.getUserMedia({video:true})
  .then(s=>{
    stream=s;
    camera.srcObject=stream;
  })
  .catch(()=>{
    alert("Kamera tidak diizinkan üò¢");
  });
}

function ending(){
 document.body.innerHTML=`
 <div style="background:black;color:white;height:100vh;
 display:flex;align-items:center;justify-content:center;
 flex-direction:column;font-size:28px">
 Mau jadi pasangan hidupku? üíç‚ù§Ô∏è
 <button onclick="alert('Aku cinta kamu selamanya üò≠')" 
 style="margin-top:20px;padding:15px;border-radius:20px">YA</button>
 </div>`;
}

setTimeout(ending, 300000);
setTimeout(()=>{
 alert("Aku mungkin bukan yang terbaik... tapi aku janji akan selalu berusaha jadi yang terakhir buat kamu üò≠‚ù§Ô∏è");
},30000);
setInterval(()=>{
 const d=new Date();
 jamCinta.innerHTML=
 `Sekarang jam ${d.getHours()}:${d.getMinutes()} ‚Äî dan aku masih cinta kamu üíû`;
},1000);
setTimeout(()=>{
 alert("Aku nggak mau hidup tanpa kamu. Kalau kamu pergi, sebagian aku ikut hilang...");
},90000);
setInterval(()=>{
 const t=document.createElement("div");
 t.innerHTML="aku cinta kamu";
 t.style.position="fixed";
 t.style.left=Math.random()*100+"%";
 t.style.top="-10px";
 t.style.color="#ff69b4";
 t.style.fontSize="14px";
 t.style.animation="fall 7s linear";
 document.body.appendChild(t);
 setTimeout(()=>t.remove(),7000);
},3000);
loveVideo.play().catch(()=>{});
const videos=["1.mp4","2.mp4","3.mp4"];
let vIndex=0;

const video=document.getElementById("loveVideo");

video.src=videos[vIndex];

video.addEventListener("ended",()=>{
 vIndex++;
 if(vIndex<videos.length){
  video.src=videos[vIndex];
  video.play();
 }else{
  alert("Itu semua kenangan kita... aku cinta kamu üò≠‚ù§Ô∏è");
 }
});
const startLove = new Date("2024-08-21"); // GANTI tanggal jadian

setInterval(()=>{
 const now=new Date();
 const diff=now-startLove;
 const days=Math.floor(diff/86400000);
 const hours=Math.floor(diff/3600000)%24;
 const mins=Math.floor(diff/60000)%60;
 loveCounter.innerHTML=
 `Kita sudah bersama ${days} hari ${hours} jam ${mins} menit ‚ù§Ô∏è`;
},1000);
const chats=[
 "Aku inget pertama kali kita ngobrol ketemu di leo",
 "Aku seneng banget punya ayang",
 "Kalau kamu cape, aku disini ya sayagnku",
 "Aku serius sama ayang",
 "Aku sayang ayangüò≠‚ù§Ô∏è"
];

let ci=0;
setInterval(()=>{
 if(ci<chats.length){
  fakeChat.innerHTML+=`<p>${chats[ci]}</p>`;
  ci++;
 }
},4000);
let hold;
document.body.addEventListener("touchstart",()=>{
 hold=setTimeout(()=>{
  alert("Makasih sudah bertahan sejauh ini sama aku‚Ä¶ aku cinta kamu üò≠");
 },2000);
});

document.body.addEventListener("touchend",()=>clearTimeout(hold));
document.addEventListener("visibilitychange",()=>{
 if(document.hidden){
  alert("Kamu screenshot ya üò≥ aku malu tapi seneng ‚ù§Ô∏è");
 }
});
const bg=["#ff7aa2","#ff9fc1","#ffc1d9","#ffd9ea"];
let bi=0;
setInterval(()=>{
 document.body.style.background=bg[bi++%bg.length];
},5000);
setInterval(()=>{
 speechSynthesis.speak(
  new SpeechSynthesisUtterance("aku cinta kamu")
 );
},45000);
function bungaLamaran(){
  const rose=document.createElement("div");
  rose.innerHTML="üåπ";
  rose.style.position="fixed";
  rose.style.left=Math.random()*100+"%";
  rose.style.top="-20px";
  rose.style.fontSize="28px";
  rose.style.animation="fall 7s linear";
  document.body.appendChild(rose);
  setTimeout(()=>rose.remove(),7000);
}
// ===== ROMANTIC WORDS =====
const romanticWords=[
"Kalau dunia berhenti berputar, cintaku ke kamu tetap berjalan selamanya üíû",
"Kamu bukan hanya cinta‚Ä¶ kamu adalah takdir terindah yang Tuhan kirim untukku ‚ù§Ô∏è",
"Aku tidak butuh sempurna‚Ä¶ selama ada kamu di sisiku üíï",
"Setiap detik bersamamu adalah surga kecil dalam hidupku üíñ",
"Kalau aku boleh memilih lagi, aku tetap memilih kamu di setiap kehidupan üåπ",
"Kamu adalah alasan aku percaya cinta itu benar-benar ada ‚ú®",
"Aku ingin menua bersamamu, menggenggam tanganmu sampai akhir waktu üíç",
"Namamu selalu jadi doa yang paling serius dalam sujudku ü§ç",
"Jika hatiku punya rumah, kamu adalah alamatnya üè°",
"Aku tidak pernah takut masa depan‚Ä¶ selama ada kamu di dalamnya ‚ù§Ô∏è"
];

function nextRomantic(){
  const text=romanticWords[Math.floor(Math.random()*romanticWords.length)];
  romanticText.innerHTML=text;
}

function backToMain(){
  lovePage.style.display="none";
  main.style.display="flex";

  // Stop lagu love
  loveMusic.pause();
  loveMusic.currentTime = 0;

  // Lanjutkan lagu utama
  musik.play();
}

// HUJAN CINTA
setInterval(()=>{
  if(lovePage.style.display!=="flex") return;
  
  const drop=document.createElement("div");
  drop.className="love-drop";
  drop.innerHTML=["‚ù§Ô∏è","üíñ","üíò","üåπ","üíï"][Math.floor(Math.random()*5)];
  drop.style.left=Math.random()*100+"%";
  drop.style.animationDuration=(Math.random()*3+3)+"s";
  
  document.querySelector(".romantic-rain").appendChild(drop);
  setTimeout(()=>drop.remove(),6000);
},300);
function updateMarryWords(){

  const now = new Date();
  const startLove = new Date("2024-08-21");

  const diff = now - startLove;
  const days = Math.floor(diff/86400000);
  const hours = Math.floor(diff/3600000)%24;
  const mins = Math.floor(diff/60000)%60;

  const jam = now.getHours().toString().padStart(2,"0");
  const menit = now.getMinutes().toString().padStart(2,"0");

  marryWords.innerHTML = `
  <p>üïí Sekarang jam ${jam}:${menit} ‚Äî dan aku masih cinta kamu üíû</p>
  <p>üíñ Kita sudah bersama ${days} hari ${hours} jam ${mins} menit ‚ù§Ô∏è</p>
  <p>‚ú® Aku inget pertama kali kita ngobrol ketemu di leo</p>
  <p>ü•∞ Aku seneng banget punya ayang</p>
  <p>ü§ç Kalau kamu cape, aku disini ya sayangku</p>
  <p>üíç Aku serius sama ayang</p>
  <p>üò≠‚ù§Ô∏è Aku sayang ayang</p>
  `;
}
setInterval(()=>{
  if(marryPage.style.display==="flex"){
    updateMarryWords();
  }
},1000);
function ambilFoto(){

  if(!stream){
    alert("Kamera belum aktif üò¢");
    return;
  }

  const context = canvas.getContext("2d");
  canvas.width = camera.videoWidth;
  canvas.height = camera.videoHeight;
  context.drawImage(camera,0,0);

  const foto = canvas.toDataURL("image/png");

  hasilFoto.src = foto;
  hasilFoto.style.display = "block";

  // üíæ Simpan ke localStorage
  localStorage.setItem("fotoCinta", foto);

  // üí• Flash effect
  const flash = document.createElement("div");
  flash.style.position="fixed";
  flash.style.top=0;
  flash.style.left=0;
  flash.style.width="100%";
  flash.style.height="100%";
  flash.style.background="white";
  flash.style.opacity="1";
  flash.style.zIndex="9999";
  flash.style.transition="opacity .6s";
  document.body.appendChild(flash);

  setTimeout(()=>{
    flash.style.opacity="0";
    setTimeout(()=>flash.remove(),600);
  },100);

  stream.getTracks().forEach(track=>track.stop());
  cameraBox.style.display="none";

  // ü§ñ Fake AI Scan
  alert("ü§ñ AI Scan selesai...\n\n100% cocok dengan cintaku ‚ù§Ô∏è");

  masuk();
}


</script>
<!-- HALAMAN MARRY ME -->
<div id="marryPage" class="page">
  <div class="container">
    <h2>Album Khusus Ayang Akuuu
      (cilalahiii) üíç‚ù§Ô∏è</h2>
    
    <div class="slider" id="marrySlider">
      <h1 id="proposalText" style="
opacity:0;
font-size:32px;
margin-top:20px;
color:#fff;
text-shadow:0 0 20px #ff69b4;
transition:2s;">
Will You Marry Me? üíç‚ù§Ô∏è
</h1>
<audio id="laguLamaran" loop>
  <source src="sampai.mp3">
</audio>

      <!-- GANTI dengan 27 foto kamu -->
      <img src="m1.jpeg" class="marryAlbum">
      <img src="m2.jpeg" class="marryAlbum">
      <img src="m3.jpeg" class="marryAlbum">
      <img src="m4.jpeg" class="marryAlbum">
      <img src="m5.jpeg" class="marryAlbum">
      <img src="m6.jpeg" class="marryAlbum">
      <img src="m7.jpeg" class="marryAlbum">
      <img src="m8.jpeg" class="marryAlbum">
      <img src="m9.jpeg" class="marryAlbum">
      <img src="m10.jpeg" class="marryAlbum">
      <img src="m11.jpeg" class="marryAlbum">
      <img src="m12.jpeg" class="marryAlbum">
      <img src="m13.jpeg" class="marryAlbum">
      <img src="m14.jpeg" class="marryAlbum">
      <img src="m15.jpeg" class="marryAlbum">
      <img src="m16.jpeg" class="marryAlbum">
      <img src="m17.jpeg" class="marryAlbum">
      <img src="m18.jpeg" class="marryAlbum">
      <img src="m19.jpeg" class="marryAlbum">
      <img src="m20.jpeg" class="marryAlbum">
      <img src="m21.jpeg" class="marryAlbum">
      <img src="m22.jpeg" class="marryAlbum">
      <img src="m23.jpeg" class="marryAlbum">
      <img src="m24.jpeg" class="marryAlbum">
      <img src="m25.jpeg" class="marryAlbum">
      <img src="m26.jpeg" class="marryAlbum">
      <img src="m27.jpeg" class="marryAlbum">
    </div>
<div id="marryWords" style="
margin-top:20px;
background:rgba(255,255,255,.15);
padding:15px;
border-radius:20px;
font-size:16px;
line-height:1.6;
backdrop-filter:blur(10px);
color:white;
text-shadow:0 0 10px #ff69b4;">
</div>

    <button onclick="kembali()">Kembali ‚ù§Ô∏è</button>
  </div>
</div>

</body>
</html>


